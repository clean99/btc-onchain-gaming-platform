document.addEventListener("p5Loaded", () => {
  let bodyweight = R.random_num(1, 5);
  let jump =  R.random_num(1, 5);
  let textColor = [52, 123, 175]
  let offset = 0;
  let flowers;
  let pipes = [];
  let openScreenBirdTracks = [];
  let openScreenBird;
  let bird;
  let playing = false;
  let openScreenStaticBird;
  let startBtn;
  let startIcon, restartIcon;
  let iconWidth = 36;
  let iconHeight = 36;
  let isRestart = false;
  let iconX, iconY;
  let birdImg, pipeImg, pipeRevImg, backgroundImg, endImg, starImg;
  let canvasWidth;
  let thinWidth = 12, thinHOffset = 18, fatWidth = 24, fatHOffset = 36;
  let birdSkin;
  let birdWidth = 55, birdHeight = 65;
  let pipeSkin;
  let birdStartPosition;
  let endPosition;
  let birdStandingPosition;
  let h1, h2, h3, h2LineSpace;
  let leftStart, midStart;
  let lightColors = 
  [
    [219, 214, 208],
    [245, 141, 34],
    [2, 121, 63],
    [171, 206, 209],
    [6, 138, 199],
    [215, 225, 85],
    [240, 65, 140],
    [236, 63, 40],
    [155, 88, 40]
  ]
  const endingTexts = [
  [
      `Looks like this was a tough flight, but don't let it `,
      `clip your wings. Everyone has off days, even the `,
      `mightiest birds. Shake it off, and dive back in. Your `,
      `next high score is waiting just beyond!`
    ],
    [
      `Good try! It might not have been your best flight, `,
      `but every attempt is a step towards improvement. `,
      `Don't get discouragedâ€”every great flyer started `,
      `somewhere. Why not give it another go?`
    ],
    [
      `Nice effort! You're right in the sweet spot, `,
      `showing promise and potential. Every flight is a `,
      `learning opportunity. Keep practicing, and you're `,
      `sure to soar to new heights!`
    ],
    [
      `Great job! You've clearly got the hang of this. `,
      `Your score reflects your growing skills and `,
      `determination. Keep pushing the limits, and who `,
      `knows how much higher you can fly!`
    ],
    [
      `Absolutely incredible! You've mastered Birdy like `,
      `a true champion. Your score is a testament to your `,
      `dedication and skill. Can anyone even come close `,
      `to your greatness?!`
    ],
  ]
  class Track {
    constructor(color = [255, 0, 0]) {
      this.points = [];
      this.color = color;
    }

    addPoint(x, y) {
      this.points.push({x, y});
    }

    show() {
      push();
      // opacity set to 60
      stroke(...this.color);
      strokeWeight(width/20 + 2); // Increased line thickness for border
      noFill();
      beginShape();
      for (let point of this.points) {
        vertex(point.x, point.y);
      }
      endShape();
      pop();
    }
  }

  class Bird {
    constructor(x, y, isOpenScreen, speed, direction, birdColor, r) {
      this.x = x;
      this.y = y;
      this.r = r ? r : width/16;
      this.gravity = height / (50 * 40) * (bodyweight / 10 * 1.5 + 1);
      this.velocity = 0;
      this.lift =  -height / 51 * (jump / 10 * 1.5 + 1);
      this.friction = 0.1;
      this.score = 0;
      this.up = false;
      this.birdColor = birdColor ? birdColor : R.random_choice(birdImg.rgbs).split(',');
      this.particles = [];
      this.isOpenScreen = isOpenScreen;
      this.track = new Track(this.birdColor);
      openScreenBirdTracks.push(this.track);
      this.speed = speed;
      this.direction = direction;
     
    }
    clear() {
      this.x = birdStartPosition.x;
      this.y = birdStartPosition.y;
      this.score = 0;
      this.up = false;
    }
    loadBirdComponent(img, r, g, b, size) {
      tint(r, g, b);
      image(img, 0, 0, this.r, this.r * 1.18);
    }
    show() {
      for (let particle of this.particles) {
        particle.show();
      }

      fill(255);
      push();
      imageMode(CENTER);
      translate(this.x, this.y);
      if (this.up || this.velocity < 0) {
        rotate(-35);
      } else if(playing) {
        rotate(35);
      }
      if (this.isOpenScreen && this.direction) {
        switch (this.direction) {
          case 'southeast':
            rotate(45);
            break;
          case 'northeast':
            rotate(-45);
            break;
        }
      }
      this.loadBirdComponent(birdSkin.body[0], ...this.birdColor);
      this.loadBirdComponent(birdSkin.wing[0], ...birdSkin.wing[1]);
      this.loadBirdComponent(birdSkin.feather[0], ...birdSkin.feather[1]);
      this.loadBirdComponent(birdSkin.shadow[0], ...birdSkin.shadow[1]);
      this.loadBirdComponent(birdSkin.beak[0], ...birdSkin.beak[1]);
      this.loadBirdComponent(birdSkin.eyelid[0], ...birdSkin.eyelid[1]);
      this.loadBirdComponent(birdSkin.eyeline[0], ...birdSkin.eyeline[1]);
      this.loadBirdComponent(birdSkin.eye[0], ...birdSkin.eye[1]);
      pop();
    }

    update() {
      this.velocity += this.gravity;
      this.velocity = constrain(this.velocity, -25, 25);
      this.y += this.velocity;
      this.particles.push(new Particle(this.x, this.y, -4, this.birdColor));
      for (let i = this.particles.length - 1; i >= 0; i--) {
        this.particles[i].update();
        if (this.particles[i].isDone()) {
          this.particles.splice(i, 1);
        }
      }
      if (this.y > height) {
        this.velocity = 0;
        this.y = height;
      } else if (this.y < 0) {
        this.velocity = 0;
        this.y = 0;
      }
      this.up = false;
    }

    flap() {
      this.velocity += this.lift;
      this.velocity *= (1 - this.friction);
      this.up = true;
    }

    move() {
      switch (this.direction) {
        case 'southeast':
          this.x += this.speed;
          this.y += this.speed;
          break;
        case 'southwest':
          this.x -= this.speed;
          this.y += this.speed;
          break;
        case 'northeast':
          this.x += this.speed;
          this.y -= this.speed;
          break;
        case 'northwest':
          this.x -= this.speed;
          this.y -= this.speed;
          break;
      }
      console.log(this.x, this.y, this.direction, this.track);
      this.track.addPoint(this.x, this.y);
    }

    isOutOfScreen() {
      return this.x < 0 || this.y < 0 || this.x > width || this.y > height;
    }
  }

  class Particle {
    constructor(x, y, velocityX, color) {
      this.position = createVector(x, y);
      this.velocity = createVector(velocityX + R.random_num(-1, 1), R.random_num(-1, 1));
      this.lifespan = 255;
      this.color = color;
    }

    update() {
      this.position.add(this.velocity);
      this.lifespan -= 6; // Adjust for faster or slower fade
    }

    show() {
      noStroke();
      fill(...this.color, this.lifespan); // Use bird's color or any color you like
      ellipse(this.position.x, this.position.y, width/100); // Adjust size as needed
    }

    isDone() {
      return this.lifespan < 0;
    }
  }

  class Pipe {
    constructor() {
      this.x = width;
      this.w = width/10;
      this.gap = height / R.random_num(2, 4.2);
      this.min_height = height / 3.6;
      this.max_height = height - this.min_height - this.gap;
      this.top = floor(R.random_num(this.min_height, this.max_height));
      this.speed = Math.floor(width/150);
      this.isPass = false;
      this.isThin = R.random_bool(0.5);
      this.flower = R.random_choice(this.isThin ? pipeSkin.thin.flowers : pipeSkin.fat.flowers);
      this.bone = this.isThin ? pipeSkin.thin.bone : pipeSkin.fat.bone;
      this.boneColor = R.random_choice(pipeImg.rgbs.bone).split(',');
      this.flowerColor = R.random_choice(pipeImg.rgbs.flower).split(',');

      this.revIsThin = R.random_bool(0.5);
      this.revFlower = R.random_choice(this.revIsThin ? pipeRevSkin.thin.flowers : pipeRevSkin.fat.flowers);
      this.revBone = this.revIsThin ? pipeRevSkin.thin.bone : pipeRevSkin.fat.bone;
      this.revBoneColor = R.random_choice(pipeImg.rgbs.bone).split(',');
      this.revFlowerColor = R.random_choice(pipeImg.rgbs.flower).split(',');
    }

    show() {
      push();
      tint(...this.revBoneColor);
      image(this.revBone, this.x, 0, this.w, this.top);
      pop();
      push();
      tint(...this.revFlowerColor);
      image(this.revFlower, this.x, 0, this.w, this.top);
      pop();
      const heightB = height - this.gap - this.top;
      const yB = height - heightB;
      push();
      tint(...this.boneColor);
      image(this.bone, this.x, yB, this.w, heightB);
      pop();
      push();
      tint(...this.flowerColor);
      image(this.flower, this.x, yB, this.w, heightB);
      pop();
      // this.topPipe();
      // this.bottomPipe();
  }

  offScreen() {
    if (this.x + this.w + this.speed < 0) {
      return true;
    }
    return false;
  }

  offBird() {
    if (this.x + this.w + this.speed < bird.x) {
      return true;
    }
    return false;
  }

  hit(bird) {
    if (bird.x > this.x && bird.x < this.x + this.w) {
      if (bird.y < this.top ||
        bird.y > this.top + this.gap) {
        return true;
      }
    }
    return false;
  }

  pass(bird) {
    if (bird.x > this.x + this.w) {
      return true;
    }
    return false;
  }

  update() {
    this.x -= this.speed;
  }
  } 


  function keyPressed() {
    if (playing && key == ' ') {
      bird.flap();
    } else {
      playing = true;
      clear();
      bird.flap();
    }
  }

  function mousePressed(){
    event.preventDefault();
    if(!playing) {
      playing = true;
      clear();
      bird.flap();
      return;
    }
    // click inside the canvas
    if(mouseX > 0 && mouseX < width &&
      mouseY > 0 && mouseY < height) {
      bird.flap();
    }
  }

  function preload() {
    backgroundImg = loadImage('data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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');
    endImg = loadImage('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTk1IiBoZWlnaHQ9Ijk5MCIgdmlld0JveD0iMCAwIDk5NSA5OTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjI0OCIgeT0iNjc5Ljc1IiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjI0MCIgcng9IjEyMCIgZmlsbD0iI0VBRURGMiIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTZfNTMxKSI+CjxyZWN0IHg9IjI0OCIgeT0iNjgwLjc1IiB3aWR0aD0iNTAwIiBoZWlnaHQ9IjI0MCIgcng9IjEyMCIgZmlsbD0iI0Q4REZFNSIvPgo8L2c+CjxwYXRoIGQ9Ik01MDEuNTM1IDY4MEg2MTMuMzI1QzYxNi41NTkgNjgwIDYxOC40NDcgNjc2LjM1MSA2MTYuNTc4IDY3My43MTFWNjczLjcxMUM2MTUuNDY5IDY3Mi4xNDQgNjE1LjYzNSA2NzAuMDEgNjE2Ljk3MiA2NjguNjMyTDYzMC40MTMgNjU0Ljc4NkM2MzIuODc1IDY1Mi4yNSA2MzEuMDc4IDY0OCA2MjcuNTQyIDY0OEgzNjkuNTE2QzM2NS44MzkgNjQ4IDM2NC4xMSA2NTIuNTQ1IDM2Ni44NTggNjU0Ljk4OUwzODIuMTg4IDY2OC42MjNDMzgzLjY5NSA2NjkuOTYzIDM4My44OTggNjcyLjI0NSAzODIuNjUxIDY3My44M1Y2NzMuODNDMzgwLjY4NCA2NzYuMzMxIDM4Mi40NjYgNjgwIDM4NS42NDkgNjgwSDUwMS41MzVaIiBmaWxsPSIjRUFFREYyIi8+CjxyZWN0IHdpZHRoPSIzLjMwNDgyIiBoZWlnaHQ9IjI5Ny40OTMiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTYxMDY2IC0wLjI3NjMxOCAwLjI1MTkxOCAwLjk2Nzc0OCAzODguMjIyIDU5Ni44NTQpIiBmaWxsPSIjMkI2NTU3Ii8+CjxwYXRoIGQ9Ik0zNzUuOTM4IDU5MS4yMzVDMzcyLjExMyA1OTAuOTM5IDM2OC42NyA1OTMuNzkzIDM2OC4yNDggNTk3LjYxQzM2Ny45OTMgNTk5LjkwNyAzNjguODkxIDYwMi4wMjkgMzcwLjQ4MSA2MDMuNDJMMzg2LjUwNiA2MTguMjY4QzM4OC42NjUgNjIwLjAwNiAzOTEuMzY3IDYyMS4xMyAzOTQuMzgyIDYyMS4zNjRDNDAyLjQ4MiA2MjEuOTkxIDQwOS43NzQgNjE1Ljk0OCA0MTAuNjY4IDYwNy44NjVDNDExLjU2MyA1OTkuNzgzIDQwNS43MjEgNTkyLjcyMiAzOTcuNjIxIDU5Mi4wOTVMMzc1LjkzOCA1OTEuMjM1WiIgZmlsbD0iIzVFQUEwMCIvPgo8cmVjdCB3aWR0aD0iMy4zMTA2OCIgaGVpZ2h0PSIyOTcuMDA4IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk0MTU3NCAwLjMzNjgwNyAtMC4zMDgxMTIgMC45NTEzNSA2MTQuODY2IDU5OC42ODIpIiBmaWxsPSIjMkI2NTU3Ii8+CjxyZWN0IHdpZHRoPSIxMDIuNTMyIiBoZWlnaHQ9IjE5LjQwMzEiIHJ4PSI5LjcwMTU1IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjg2MjcwOSAwLjUxNzExNSAtMC40OTUzNjMgMC44NjE2MjggNTc2LjMzNCA1NzIuMTk4KSIgZmlsbD0iIzA0QUNBMSIvPgo8cmVjdCB3aWR0aD0iMy4yOTU4MSIgaGVpZ2h0PSIyOTguMjM2IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk5MDUyNSAwLjEzNzMzMiAtMC4xMjQ1NTMgMC45OTIyMTMgNDg2LjYwMSA1MTIuMTM1KSIgZmlsbD0iIzJCNjU1NyIvPgo8cGF0aCBkPSJNNDg3LjU3MiA0ODcuODYyTDUwMC45NDIgNDk3Ljg5TDUxNC4xNTIgNTA4LjEyNUw1MTIuMjM4IDUyNC40MzhMNTEwLjA2MSA1NDAuNzE0TDQ5NC43NzcgNTQ2Ljk5OEw0NzkuMzkgNTUzLjA0TDQ2Ni4wMiA1NDMuMDExTDQ1Mi44MSA1MzIuNzc3TDQ1NC43MjQgNTE2LjQ2NEw0NTYuOTAxIDUwMC4xODhMNDcyLjE4NSA0OTMuOTAzTDQ4Ny41NzIgNDg3Ljg2MloiIGZpbGw9IiNGRkE0RkUiLz4KPHJlY3Qgd2lkdGg9IjMuMjk1NDEiIGhlaWdodD0iMjk4LjI2OSIgdHJhbnNmb3JtPSJtYXRyaXgoMC45OTE3OTcgLTAuMTI3ODIyIDAuMTE1OTAxIDAuOTkzMjYxIDQxMC4xNTUgNTM0Ljk2NykiIGZpbGw9IiMyQjY1NTciLz4KPGVsbGlwc2UgY3g9IjI4LjI2MjIiIGN5PSI2LjkzNDA4IiByeD0iMjguMjYyMiIgcnk9IjYuOTM0MDgiIHRyYW5zZm9ybT0ibWF0cml4KDAuNzI0NjI2IC0wLjY5NzQ1MiAwLjY5Nzg3MiAwLjcwODA2NSAzODcuODI2IDU0OS43NCkiIGZpbGw9IiNGQzkyMDEiLz4KPHJlY3QgeD0iNTMyLjkwMyIgeT0iNTEwLjkwMiIgd2lkdGg9IjMuMjkyODciIGhlaWdodD0iMzI4LjcxNCIgZmlsbD0iIzJCNjU1NyIvPgo8cmVjdCB4PSI1MzIuOTAzIiB5PSI1MTAuOTAyIiB3aWR0aD0iMy4yOTI4NyIgaGVpZ2h0PSIzMjguNzE0IiBmaWxsPSIjMkI2NTU3Ii8+CjxwYXRoIGQ9Ik01MjMuNjIgNDUzLjQxNkM1MjUuNjEgNDU4LjQyNSA1MjMuMTA1IDQ2NC4wNzUgNTE4LjAyNSA0NjYuMDM3QzUxMi45NDUgNDY3Ljk5OSA1MDcuMjE0IDQ2NS41MjkgNTA1LjIyNCA0NjAuNTJDNTAzLjIzNCA0NTUuNTExIDUwNS43MzkgNDQ5Ljg2MSA1MTAuODE5IDQ0Ny44OTlDNTE1Ljg5OSA0NDUuOTM3IDUyMS42MyA0NDguNDA3IDUyMy42MiA0NTMuNDE2WiIgZmlsbD0iI0RGRENGRiIvPgo8cGF0aCBkPSJNNTMwLjgyNiA0NzEuNTU0QzUzMi44MTUgNDc2LjU2MiA1MzAuMzEgNDgyLjIxMyA1MjUuMjMgNDg0LjE3NUM1MjAuMTUgNDg2LjEzNiA1MTQuNDE5IDQ4My42NjYgNTEyLjQyOSA0NzguNjU4QzUxMC40MzkgNDczLjY0OSA1MTIuOTQ1IDQ2Ny45OTkgNTE4LjAyNSA0NjYuMDM3QzUyMy4xMDUgNDY0LjA3NSA1MjguODM2IDQ2Ni41NDUgNTMwLjgyNiA0NzEuNTU0WiIgZmlsbD0iI0RGRENGRiIvPgo8cGF0aCBkPSJNNTM4LjAzMSA0ODkuNjkxQzU0MC4wMjEgNDk0LjcgNTM3LjUxNiA1MDAuMzUgNTMyLjQzNiA1MDIuMzEyQzUyNy4zNTYgNTA0LjI3NCA1MjEuNjI0IDUwMS44MDQgNTE5LjYzNSA0OTYuNzk1QzUxNy42NDUgNDkxLjc4NyA1MjAuMTUgNDg2LjEzNiA1MjUuMjMgNDg0LjE3NUM1MzAuMzEgNDgyLjIxMyA1MzYuMDQxIDQ4NC42ODMgNTM4LjAzMSA0ODkuNjkxWiIgZmlsbD0iI0RGRENGRiIvPgo8cGF0aCBkPSJNNTQ1LjIzNiA1MDcuODI5QzU0Ny4yMjYgNTEyLjgzOCA1NDQuNzIxIDUxOC40ODggNTM5LjY0MSA1MjAuNDVDNTM0LjU2MSA1MjIuNDEyIDUyOC44MyA1MTkuOTQyIDUyNi44NCA1MTQuOTMzQzUyNC44NSA1MDkuOTI1IDUyNy4zNTYgNTA0LjI3NCA1MzIuNDM2IDUwMi4zMTJDNTM3LjUxNiA1MDAuMzUgNTQzLjI0NyA1MDIuODIgNTQ1LjIzNiA1MDcuODI5WiIgZmlsbD0iI0RGRENGRiIvPgo8cGF0aCBkPSJNNTUyLjQ0MiA1MjUuOTY3QzU1NC40MzIgNTMwLjk3NSA1NTEuOTI2IDUzNi42MjYgNTQ2Ljg0NiA1MzguNTg4QzU0MS43NjYgNTQwLjU0OSA1MzYuMDM1IDUzOC4wNzkgNTM0LjA0NSA1MzMuMDcxQzUzMi4wNTYgNTI4LjA2MiA1MzQuNTYxIDUyMi40MTIgNTM5LjY0MSA1MjAuNDVDNTQ0LjcyMSA1MTguNDg4IDU1MC40NTIgNTIwLjk1OCA1NTIuNDQyIDUyNS45NjdaIiBmaWxsPSIjREZEQ0ZGIi8+CjxwYXRoIGQ9Ik01NTkuNjQ3IDU0NC4xMDRDNTYxLjYzNyA1NDkuMTEzIDU1OS4xMzIgNTU0Ljc2NCA1NTQuMDUyIDU1Ni43MjVDNTQ4Ljk3MiA1NTguNjg3IDU0My4yNDEgNTU2LjIxNyA1NDEuMjUxIDU1MS4yMDhDNTM5LjI2MSA1NDYuMiA1NDEuNzY2IDU0MC41NDkgNTQ2Ljg0NiA1MzguNTg4QzU1MS45MjYgNTM2LjYyNiA1NTcuNjU4IDUzOS4wOTYgNTU5LjY0NyA1NDQuMTA0WiIgZmlsbD0iI0RGRENGRiIvPgo8cGF0aCBkPSJNNTY2Ljg1MyA1NjIuMjQyQzU2OC44NDMgNTY3LjI1MSA1NjYuMzM3IDU3Mi45MDEgNTYxLjI1NyA1NzQuODYzQzU1Ni4xNzcgNTc2LjgyNSA1NTAuNDQ2IDU3NC4zNTUgNTQ4LjQ1NiA1NjkuMzQ2QzU0Ni40NjcgNTY0LjMzOCA1NDguOTcyIDU1OC42ODcgNTU0LjA1MiA1NTYuNzI1QzU1OS4xMzIgNTU0Ljc2NCA1NjQuODYzIDU1Ny4yMzQgNTY2Ljg1MyA1NjIuMjQyWiIgZmlsbD0iI0RGRENGRiIvPgo8cmVjdCB3aWR0aD0iMy4yOTQ4MyIgaGVpZ2h0PSIyNjIuMDE4IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk5MzY4OCAtMC4xMTIxNzkgMC4xMDE2ODMgMC45OTQ4MTcgNDM2LjAzNiA2MjguNzI0KSIgZmlsbD0iIzJCNjU1NyIvPgo8cGF0aCBkPSJNNDQzLjUyOCA2MTEuMTQzQzQ0My45NjEgNjE1LjM3NyA0NDAuODMxIDYxOS4yMDMgNDM2LjUzNiA2MTkuNjg4QzQzMi4yNDIgNjIwLjE3MiA0MjguNDA5IDYxNy4xMzMgNDI3Ljk3NyA2MTIuODk5QzQyNy41NDQgNjA4LjY2NSA0MzAuNjc0IDYwNC44NCA0MzQuOTY5IDYwNC4zNTVDNDM5LjI2MyA2MDMuODcgNDQzLjA5NiA2MDYuOTA5IDQ0My41MjggNjExLjE0M1oiIGZpbGw9IiNGQzkyMDEiLz4KPHBhdGggZD0iTTQxNy4yNzcgNjMxLjQ3MkM0MTYuNTcxIDYyNS44NDIgNDIwLjYzMSA2MjAuNjUxIDQyNi4zNDMgNjE5Ljg3OEw0NDYuMDI2IDYxNy4yMTVDNDUxLjczOSA2MTYuNDQzIDQ1Ni45NDEgNjIwLjM4IDQ1Ny42NDYgNjI2LjAxMUM0NTguMzUxIDYzMS42NDEgNDU0LjI5MiA2MzYuODMxIDQ0OC41OCA2MzcuNjA0TDQyOC44OTcgNjQwLjI2N0M0MjMuMTg0IDY0MS4wNCA0MTcuOTgyIDYzNy4xMDIgNDE3LjI3NyA2MzEuNDcyWiIgZmlsbD0iI0ZDOTIwMSIvPgo8cmVjdCB3aWR0aD0iMTMuMTcxNiIgaGVpZ2h0PSIzNjQuNDIyIiB0cmFuc2Zvcm09Im1hdHJpeCgwLjk5OTg3OCAtMC4wMTU2NDY2IDAuMDE0MTY2OCAwLjk5OTkgNDkyLjQ2MyA0MjcuOTI2KSIgZmlsbD0iIzU3QTEwMiIvPgo8cGF0aCBkPSJNNDk0Ljg5NyAzNzkuMzI1QzQ5Ny4yMjIgMzc3LjcyOCA1MDAuMjc2IDM3Ny42OCA1MDIuNjQ2IDM3OS4yMDRMNTA3Ljc4NCAzODIuNTA3QzUwOC45ODYgMzgzLjI4IDUxMC4zOTcgMzgzLjY2NiA1MTEuODI2IDM4My42MTNMNTE3Ljk1MyAzODMuMzg0QzUyMC43ODkgMzgzLjI3OCA1MjMuNDA2IDM4NC44OTUgNTI0LjU3OCAzODcuNDc5TDUyNy4wMzQgMzkyLjg5QzUyNy42MzMgMzk0LjIwOSA1MjguNjI2IDM5NS4zMDkgNTI5Ljg3OCAzOTYuMDM4TDUzNS4wNCAzOTkuMDQ3QzUzNy41MjEgNDAwLjQ5MyA1MzguODY0IDQwMy4zMTEgNTM4LjQyNyA0MDYuMTUyTDUzNy41NCA0MTEuOTA5QzUzNy4zMTYgNDEzLjM1OCA1MzcuNTUzIDQxNC44NCA1MzguMjE3IDQxNi4xNDZMNTQwLjg2IDQyMS4zNDJDNTQyLjE2NiA0MjMuOTEyIDU0MS43NjIgNDI3LjAyMiA1MzkuODQxIDQyOS4xNzdMNTM1LjkxNyA0MzMuNTc3QzUzNC45NDUgNDM0LjY2NyA1MzQuMzM4IDQzNi4wMzMgNTM0LjE4IDQzNy40ODVMNTMzLjU0NSA0NDMuMzE3QzUzMy4yMzYgNDQ2LjE1OCA1MzEuMjMyIDQ0OC41MjggNTI4LjQ4MiA0NDkuMzA2TDUyMi42NDEgNDUwLjk1OEM1MjEuMjU2IDQ1MS4zNSA1MjAuMDI1IDQ1Mi4xNTggNTE5LjExNSA0NTMuMjc0TDUxNS4yOTcgNDU3Ljk1NkM1MTMuNTEgNDYwLjE0NiA1MTAuNTg1IDQ2MS4wNSA1MDcuODc4IDQ2MC4yNDhMNTAxLjk4NiA0NTguNTAzQzUwMC42MTggNDU4LjA5OCA0OTkuMTU5IDQ1OC4xMiA0OTcuODAzIDQ1OC41NjhMNDkxLjk2MyA0NjAuNDk3QzQ4OS4yODEgNDYxLjM4MyA0ODYuMzMxIDQ2MC41NzEgNDg0LjQ4MyA0NTguNDM4TDQ4MC41MzMgNDUzLjg3OEM0NzkuNTkyIDQ1Mi43OTEgNDc4LjMzOSA0NTIuMDIxIDQ3Ni45NDMgNDUxLjY3M0w0NzEuMDU4IDQ1MC4yMDVDNDY4LjI4NyA0NDkuNTEzIDQ2Ni4yMTcgNDQ3LjIwNyA0NjUuODI3IDQ0NC4zNzdMNDY1LjAyOCA0MzguNTY3QzQ2NC44MjkgNDM3LjEyMSA0NjQuMTgzIDQzNS43NzQgNDYzLjE4MSA0MzQuNzE1TDQ1OS4xMzUgNDMwLjQ0QzQ1Ny4xNTMgNDI4LjM0NiA0NTYuNjYxIDQyNS4yNSA0NTcuODk0IDQyMi42NEw0NjAuMzg4IDQxNy4zNjRDNDYxLjAxNCA0MTYuMDM4IDQ2MS4yMDkgNDE0LjU0OSA0NjAuOTQ1IDQxMy4xMDhMNDU5Ljg5NSA0MDcuMzgxQzQ1OS4zNzcgNDA0LjU1NSA0NjAuNjQgNDAxLjY5NiA0NjMuMDggNDAwLjE3M0w0NjguMTU0IDM5Ny4wMDRDNDY5LjM4NCAzOTYuMjM2IDQ3MC4zNDYgMzk1LjEwNSA0NzAuOTA3IDM5My43NjhMNDczLjIwOSAzODguMjgyQzQ3NC4zMDcgMzg1LjY2NCA0NzYuODc3IDM4My45NjUgNDc5LjcxNSAzODMuOTgyTDQ4NS44NDYgMzg0LjAxOUM0ODcuMjc2IDM4NC4wMjggNDg4LjY3NSAzODMuNTk4IDQ4OS44NTUgMzgyLjc4OEw0OTQuODk3IDM3OS4zMjVaIiBmaWxsPSIjRTFEMjNCIi8+CjxyZWN0IHdpZHRoPSIxMy4yMjYxIiBoZWlnaHQ9IjMxMi4xMTEiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTU1NDI4IDAuMjk1MjI1IC0wLjI2OTQyMiAwLjk2MzAyMiA1ODguODQ1IDUyNC43NSkiIGZpbGw9IiM1N0ExMDIiLz4KPHBhdGggZD0iTTYxNS4xNTggNDkwLjI0TDU3NS44NTMgNDgzLjc1NUw1NTYuMjg5IDUxMC40MTJDNTQ5Ljg5IDUyMC4xNjMgNTQzLjQ2NyA1MzEuNTU3IDU0Ny45MTMgNTQwLjI0OUM1NTMuNjA1IDU1MS4zNzMgNTYzLjM3NCA1NTUuODggNTY3LjU0NyA1NTYuNzQzTDU3NC42NjcgNTU3LjgyTDU4Ny4xMjcgNTU5LjcwNEw2MDYuNzA4IDU2Mi42NjRDNjExLjgxMSA1NjIuNTI4IDYyMy41MzQgNTYwLjA3MiA2MjkuNjAzIDU1MS4zNDdDNjM1LjY3MSA1NDIuNjIxIDYzMy41NzcgNTMyLjUwNiA2MzEuNzcyIDUyOC41MzlMNjE1LjE1OCA0OTAuMjRaIiBmaWxsPSIjRkZBNEZFIi8+CjxyZWN0IHdpZHRoPSIxOC4xMzExIiBoZWlnaHQ9IjQzNi4yMTciIHRyYW5zZm9ybT0ibWF0cml4KDAuOTg4MDY4IC0wLjE1NDAyMiAwLjEzOTc1MSAwLjk5MDE4NyA0MzUuMDM4IDQ1Ni43ODYpIiBmaWxsPSIjNTdBMTAyIi8+CjxwYXRoIGQ9Ik00NTMuMjEgNDgxLjc5MUM0MTUuNjM2IDQ5My44ODQgMzkyLjIgNDc0LjA3IDM4Ni4yNTkgNDYxLjQ1OEMzODUuNTkxIDQ2MC4zMzEgMzgwLjY3OSA0NDUuNTA3IDM5Ni4xMTUgNDM2Ljk0N0M0MDkuNjU2IDQyOS40MzggNDE5Ljg5NSA0NDEuMzA4IDQyMi45OTEgNDQ3LjUyN0M0MjEuNDc4IDQ0Mi43MDMgNDIxLjU4NSA0MzEuNjY0IDQzNC4xMTUgNDI2LjFDNDQ5Ljc3OCA0MTkuMTQ2IDQ1OC45MDkgNDMzLjcyMiA0NjAuMDA3IDQzNS42MDNDNDYxLjEwNSA0MzcuNDgzIDQ2Mi40OTYgNDM4LjQ5NyA0NjEuNjM2IDQzNS4zNDlDNDYwLjc3NSA0MzIuMjAxIDQ2Mi4yNzYgNDE5LjI0OSA0NzQuOTY1IDQxNC44MDlDNDg3LjY1NCA0MTAuMzcgNDk2LjkyIDQyMC4wMDIgNDk4LjY5NyA0MjYuN0M1MDAuNDc1IDQzMy4zOTcgNTAwLjE3OCA0NjYuNjc0IDQ1My4yMSA0ODEuNzkxWiIgZmlsbD0iIzA0QUNBMSIvPgo8cmVjdCB4PSIzMjgiIHk9Ijc2MCIgd2lkdGg9IjM0MCIgaGVpZ2h0PSI4MCIgZmlsbD0iYmxhY2siLz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMTZfNTMxIj4KPHJlY3Qgd2lkdGg9IjUwMCIgaGVpZ2h0PSIxOTQiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDggNzI2Ljc1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=');
    starImg = loadImage('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzA5ODgzOTgxMjc0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijc4NjciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCI+PHBhdGggZD0iTTc2Mi42ODggMTAwNy45MzZjLTE2LjY0IDAtMzMuMTUyLTQuMTYtNDcuNzQ0LTEyLjAzMmwtMjAzLjk2OC0xMDkuODI0LTIwMy45MDQgMTA5LjgyNGMtMzMuMDg4IDE3LjYtNzQuNDk2IDE1LjIzMi0xMDQuODk2LTUuNTY4LTMxLjI5Ni0yMS41NjgtNDcuMzYtNTkuMzI4LTQxLjE1Mi05Ni4xMjhsMzkuOTM2LTIzOC42NTZMMjguNjcyIDQ4My40NTZDMi4xMTIgNDU3LjE1Mi02Ljc4NCA0MTguODggNS4yNDggMzgzLjY4IDE3LjM0NCAzNDguOCA0Ny43NDQgMzIzLjcxMiA4NC42NzIgMzE4LjI3MmwyMzQuNDk2LTM0Ljg4IDEwMS43Ni0yMTEuMzkyYzE2LjM4NC0zMy45ODQgNTEuNzc2LTU2IDkwLjA0OC01NiAzOC4zMzYgMCA3My42NjQgMjEuOTUyIDg5LjkyIDU2bDEwMS44ODggMjExLjM5MiAyMzQuNDMyIDM0Ljg4YzM2Ljk5MiA1LjQ0IDY3LjM5MiAzMC41MjggNzkuNDI0IDY1LjM0NCAxMi4wOTYgMzUuMjY0IDMuMTM2IDczLjQ3Mi0yMy4yOTYgOTkuODRsLTE3Mi40MTYgMTcyLjA5NiA0MC4wNjQgMjM4LjY1NmM2LjIwOCAzNi44NjQtOS45ODQgNzQuNjI0LTQxLjIxNiA5Ni4wNjRDODAyLjg4IDEwMDEuNzkyIDc4My4xNjggMTAwNy45MzYgNzYyLjY4OCAxMDA3LjkzNiIgZmlsbD0iI0ZEQkMwMCIgcC1pZD0iNzg2OCI+PC9wYXRoPjwvc3ZnPg==')
    birdImg = {
      body: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxlbGxpcHNlIGN4PSI1NSIgY3k9Ijc0LjkzNDYiIHJ4PSI1NSIgcnk9IjU1LjA2NTQiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
      eye: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxlbGxpcHNlIGN4PSI3MiIgY3k9IjM5LjAwNTkiIHJ4PSI1IiByeT0iNS4wMDU5NSIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
      beak: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMDggMzcuODkwNkg5NEwxMDIuNSA0OS45MDQ4TDEwOCAzNy44OTA2WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
      shadow: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNy41IDEwNS45NzFDMjkuMSA5OC4zNjI0IDM2LjgzMzEgODQuNDMzNiA0MC45OTk4IDc5LjA5MzlDMzAuNjY2NCA4OC4yNzE1IDEwLjU5OTcgMTA3LjYyOCAxMi45OTk3IDExMS42MzNDMTUuMzk5NyAxMTUuNjM3IDIzLjgzMyAxMjEuNTI5IDI3Ljk5OTggMTI0LjE0N0MyNy4zMzMxIDEyMC42NDMgMjUuOSAxMTMuNTggMjcuNSAxMDUuOTcxWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
      eyelids: [
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01OS41IDM0Ljg0NTZDNTQuNyAzNi44NDU2IDQ0LjUgMzQuNjc5IDQwIDMzLjM0NTZDNDQgMzguODQ1NiA3MC41IDQ4Ljg0NTYgODUgNTIuMzQ1NkM5OS41IDU1Ljg0NTYgMTAwLjE1NiA0Ny4yNjIzIDk4LjUgNDIuODQ1NkM5NyAzOC44NDU2IDg3LjUgMzAuMzQ1NiA4MiAyNy44NDU2Qzc3LjY4MTggMjUuODgyOCA3OCAyOC44NDU2IDc2IDI5LjM0NTZDNzQgMjkuODQ1NiA3MS41IDI3Ljg0NTYgNjcuNSAyOS4zNDU2QzYzLjUgMzAuODQ1NiA2NS41IDMyLjM0NTYgNTkuNSAzNC44NDU2WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Mi4wMDAxIDI5LjY2NjdDNTQuNDAwMSAyMi40NjY3IDQ1LjAwMDEgMjEuNjY2NyA0MS41MDAxIDIyLjVDNDguNTAwMSAyMC41IDYyLjUwMDEgMjAuMzMzMyA3My4wMDAxIDIzLjVDODcuODAzMiAyNy45NjQ0IDk0LjAwMDEgMzQuNSA5OC41MDAxIDQxQzk2LjMzMzUgNDIuNjY2NyA5MC4zMDAxIDQ0LjUyNCA4My41MDAxIDQzLjcyNEM3NS4wMDAxIDQyLjcyNCA3MS41MDAxIDM4LjY2NjcgNjIuMDAwMSAyOS42NjY3WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03MS4wMDA2IDMzQzczLjQwMDYgMzIuMiA4MC4wMDA2IDI5LjMzMzMgODMuNTAwNiAyNy41TDg4LjUwMDYgMzAuNUw5Mi4wMDA2IDMzLjVDOTAuMDAwNiAzNCA4NS41MDA2IDM1LjMgODMuNTAwNiAzNi41QzgxLjAwMDYgMzggODAuMDAwNiA0MC41IDc4LjAwMDYgNDNDNzYuMDAwNiA0NS41IDcxLjg1NCA0Ni4wNjg5IDY5LjUwMDYgNDQuNUM2Ni41MDA2IDQyLjUgNTkuNTAwNiAzOSA1Ni4wMDA2IDM4QzYwLjAwMDYgMzYuODMzMyA2OC42MDA2IDMzLjggNzEuMDAwNiAzM1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
      ],
      eyelines: [
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03MS41MDA2IDYwQzU2LjMwMDYgNjEuMiAyMi4xNjczIDUzLjE2NjcgNy4wMDA2MSA0OUMxNi41MDA2IDU1LjE2NjcgNDIuNzg3MyA3MC43MjI3IDczLjAwMDYgNzIuNUM5MC4wMDA2IDczLjUgMTA1LjgzNCA2OC42NjY3IDEwOS41MDEgNjdMMTA5LjAwMSA2NEwxMDcuNTAxIDU4LjVMMTA0LjUwMSA1MUMxMDEuODM0IDUyLjgzMzMgODYuNzAwNiA1OC44IDcxLjUwMDYgNjBaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zOC44MTgxIDM2LjYwMzhDMjkuNTUgMjguMTM5MSAyNy4wODk5IDExLjE0NzYgMjcuMDM3MiAzLjcwODk2QzI4LjAzMDUgNy41NDE1NCAyOS44MDA2IDIxLjEyNDEgNDAuNDU0NCAzMS41MzQyQzU1LjM0MjYgNDYuMDgxOCA4MS43Njk4IDQ3LjE5MDYgOTMuNzUxNiA1OC43MDIxQzEwNC4wMTYgNjguNTYzOCAxMDcuMjA4IDkwLjIxMjcgMTA0LjgxMiA5OS45MDUyQzEwMy45MzYgOTIuMDIyNSAxMDEuNDA0IDcyLjYxMzEgODkuMTAzIDYxLjc0NEM3My4wMzMgNDcuNTQ0NCA1MC40MDMyIDQ3LjE4NDcgMzguODE4MSAzNi42MDM4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
      ],
      feathers: [
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNi45OTk4IDEwNS41QzI4LjU5OTggOTcuOSAzMy44MzM5IDg5LjMzMzMgMzguMDAwNiA4NEM0MS41MDA2IDkzLjUgNDIuMDAwNiA5OCA0MC41MDA2IDEwNEMzOS4wMDA2IDExMCAzMS40OTk3IDExNy45MzkgMjcuOTk5OCAxMjRDMjcuMzMzMSAxMjAuNSAyNS4zOTk4IDExMy4xIDI2Ljk5OTggMTA1LjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTQuOTk5OCA1OUwxOS4xNjkyIDU4QzE5LjE2OTIgNTkuNSAxNy44NjkyIDY0LjQgMTIuNjY5MiA3MkM3LjQ2OTE2IDc5LjYgMi4xNjkxNiA4MS41IDAuMTY5MTYgODEuNUMtMC4xNjQxNzQgNzkuMTY2NyAwLjQzMzk3NiA3Mi40NDAyIDMuOTk5NzYgNjcuNUM4LjMzMDUzIDYxLjUgMTMuODMwNCA1OS41IDE0Ljk5OTggNTlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMS4xNjkxIDExNEwwLjE2OTA2NyAxMjdWMTEwQzAuODM1NzM0IDExMSAyLjY2OTA3IDExMy4yIDQuNjY5MDcgMTE0QzYuNjY5MDcgMTE0LjggOS44MzU3MyAxMTQuMzMzIDExLjE2OTEgMTE0WiIgZmlsbD0iIzEyMTIxMiIvPgo8L3N2Zz4K',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00LjY2OTA3IDExNEM2LjY2OTA3IDExNC44IDkuODM1NzMgMTE0LjMzMyAxMS4xNjkxIDExNEwxNC42NjkxIDExMEMxMi41MDI0IDExMC4zMzMgNy42NjkwNyAxMTAuOCA1LjY2OTA3IDExMEMzLjY2OTA3IDEwOS4yIDEuMTY5MDcgMTA2LjMzMyAwLjE2OTA2NyAxMDVWMTEwQzAuODM1NzM0IDExMSAyLjY2OTA3IDExMy4yIDQuNjY5MDcgMTE0WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01Mi4wMDA2IDY4TDIwLjUwMDYgMTA0QzIyLjMzMzkgMTAzIDI2LjMwMDYgMTAyLjIgMjkuNTAwNiAxMDFDMzMuNTAwNiA5OS41IDQyLjAwMDYgOTguNSA1MS41MDA2IDEwMUM1OS4xMDA2IDEwMyA3Ni4xNjczIDExNi44MzMgODMuNTAwNiAxMjNDODQuODMzOSAxMjIuNSA4OC4xOTA0IDExOS44NTggOTAuMDAwNiAxMTguNUM5Mi4wMDA2IDExNyA5NS4zMzM5IDExMy42NjcgOTYuNTAwNiAxMTJDOTEuMTY3MyAxMTAuNSA3NS44MDA2IDEwNSA2NS4wMDA2IDk3QzU0LjIwMDYgODkgNDguNTAwNiA3NiA1Mi4wMDA2IDY4WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xNC4wMDA2IDg3QzcuNjAwNjEgODcgMi4wMDA2MSA4NSAwLjAwMDYxMDM1MiA4NFY4OS41QzAuNTAwNjEgODkuNjY2NyAzLjAwMDYxIDg5LjkgOS4wMDA2MSA4OS41QzE1LjAwMDYgODkuMSAyMy44MzM5IDg3LjMzMzMgMjcuNTAwNiA4Ni41QzI1LjY2NzMgODYuNjY2NyAyMC40MDA2IDg3IDE0LjAwMDYgODdaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNi4xMDk3IDk4LjgxNUMzLjMxNjk3IDk4LjgxNSAwLjg3MzMzOCA5Ny4wNjcgMC4wMDA2MTAzNTIgOTYuMTkzVjEwMUMwLjIxODc5MiAxMDEuMTQ2IDEuMzA5NyAxMDEuMzUgMy45Mjc4OCAxMDFDNi41NDYwNiAxMDAuNjUgMTAuNDAwNiA5OS4xMDYzIDEyLjAwMDYgOTguMzc4QzExLjIwMDYgOTguNTIzNyA4LjkwMjQzIDk4LjgxNSA2LjEwOTcgOTguODE1WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC44OTE2IDg1LjU1MTJDMjQuMjUxMSA4OS4xNTU1IDIyLjA3MzQgOTQuNDE3OSAxNy44NDYyIDk2LjcyNDhDMTYuMDg0OSA5Ny42ODU5IDExLjY0NjMgOTkuNDY0MSA3Ljk4MjcgOTguODg3NEMzLjQwMzIxIDk4LjE2NjUgMy4wNTA5NCA5Mi4zOTk1IDUuNTE2ODIgODcuNzEzOEM3Ljk4MjcgODMuMDI4MSAxMi41NjIyIDc5Ljc4NDIgMTguNTUwOCA3OS4wNjMzQzIzLjM0MTYgNzguNDg2NiAyNS41MzIxIDgxLjk0NjggMjQuODkxNiA4NS41NTEyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
      ],
      wings: [
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02LjUxNTk5IDUwQzAuOTE1OTkxIDYwLjggLTAuMTUwNjc1IDcyLjgzMzMgMC4wMTU5OTEzIDc3LjVWMTI3TDg3LjAwMDYgMzBDODEuNTAwNiAyNC41IDQzLjgzMzUgMTAuNjY2NyAyNyA0QzIyLjY2NjcgMTQuODMzMyAxMi4xMTYgMzkuMiA2LjUxNTk5IDUwWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02LjUwMDYxIDQ5QzEuMDAwNjEgNTggMC4wMDA2NjEzNzMgNjkuNSAwLjE4NTE4MSA3NS43MTU4VjEyNS4yMTZWMTI3LjIxNkw1Mi4xNjkxIDY4LjE1NDRDNTMuNjY5MSA2Ni4xNTQ0IDU0LjI5NTEgNjMuMjI1OSA1My4wMDA3IDYxLjVDNTEuODA0MSA1OS45MDQ2IDQ2LjUwMDcgNTguNSA0NC41MDA3IDU4TDYuNTAwNjEgNDlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMCAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03IDQ5LjY1NDRDMy42Mjk2MiA1Ni4xNTQ0IDAuNSA2MC42NTQ0IDAgNzcuMjk4OFYxMjYuNzk5TDg3LjAwMDYgMzBDNzguNTAwNiAyMyA1NS41NjQzIDE1LjkxMjkgMzcuMDAwNiAyMi41QzIxLjUwMDYgMjggMTAuOTIwNyA0Mi4wOTMxIDcgNDkuNjU0NFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMSAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMDkuNTAxIDYzLjVDMTEyLjQ2NyA3Ni41MjUzIDExMC43MTcgOTAuNjI3MSAxMDQuMzUgMTAyLjM3MUMxMDEuNzMzIDk2Ljc5ODYgOTIuOSA4My42NTQ0IDc4LjUgNzUuNjU0NEM2NC4xIDY3LjY1NDQgNTUuNTAwNiA2NS41IDUxLjUwMDYgNzBMMC45OTk5OTkgMTI3LjE1NFYxMjUuMTU0Vjc1LjY1NDRDMC44MzMzMzIgNzAuOTg3OCAxLjkwMDEyIDYwLjk1NDQgNy41MDAxMiA1MC4xNTQ0TDI4LjAwMDEgNC4xNTQ0MkM0Mi42NjY3IDkuNjU0NDIgNzMuNSAyMS41NTQ0IDc5LjUgMjUuMTU0NEw4NyAyOS42NTQ0Qzk4LjUwMDYgMzcgMTA3LjUwMSA1MCAxMDkuNTAxIDYzLjVaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMCIgdmlld0JveD0iMCAwIDExMSAxMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMDkuMDAxIDY0QzExMS45NjcgNzcuMDI1MyAxMDkuNzAxIDkwLjc2MjYgMTAzLjMzNCAxMDIuNTA2QzEwMC43MTcgOTYuOTM0MSA4OS4wMDA2IDgzLjUgNzcuNDg0IDc1Ljc4OTlDNzEuNDMzOCA3MS43Mzk1IDU3LjAwMDYgNjcgNDQuMDAwNiA2Ni41QzQ5LjYwMDYgNjguMSA0OC42NjczIDcxLjk4NzggNDcuMDAwNiA3NC4xNTQ0TDAuMDAwMTIyMDcgMTI3LjI5VjEyNS4yOVY3NS43ODk5QzAuNDg0MTMxIDY5Ljc4OTkgMi40ODQxMyA1Ny43ODk5IDYuOTg0MTMgNDkuMjg5OUMxMS40ODQxIDQwLjc4OTkgMjEuNjM5NyAyNy40NTA2IDM4LjUwMDYgMjIuNUM1Ni41MTcyIDE3LjIxMDEgNzEuMDAwNiAyMS41IDc4LjUwMDYgMjVMODMuMDAwNiAyNy41TDg3LjUwMDYgMzAuNUM5OC4zMjUyIDM4LjMyODQgMTA2LjAzNCA1MC45NzQ3IDEwOS4wMDEgNjRaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K'
      ],
      rgbs: R.random_choice([[
        '219,214,208',
        '245,141,34',
        '2,121,63',
        '171,206,209',
        '6,138,199',
        '215,225,85',
        '240,65,140',
        '236,63,40',
        '155,88,40',
        '0,0,0',
      ], [
        '223,181,37',
        '140,161,182',
        '51,124,174',
        '44,91,125',
        '210,58,40',
        '66,47,44',
        '161,134,114',
        '203,194,187',
        '237,236,223',
        '0,0,0',
      ]]),
    }
    const black = '0,0,0', white = '255,255,255';
    let wholeColor = new Array(5).fill(0).map(() => R.random_choice(birdImg.rgbs));
    const [eyeColor, eyelineColor, eyelidColor ] = wholeColor.find(item => item === black) ? [white, white, black] : [black, black, white];
    wholeColor = wholeColor.map(item => item.split(','));
    birdSkin = {
      body: [loadImage(birdImg.body), wholeColor[0]],
      wing: [loadImage(R.random_choice(birdImg.wings)),  wholeColor[1]],
      feather: [loadImage(R.random_choice(birdImg.feathers)),  wholeColor[2]],
      shadow: [loadImage(birdImg.shadow),  wholeColor[3]],
      beak: [loadImage(birdImg.beak),  wholeColor[4]],
      eyelid: [loadImage(R.random_choice(birdImg.eyelids)), eyelidColor.split(',')],
      eyeline: [loadImage(R.random_choice(birdImg.eyelines)), eyelineColor.split(',')],
      eye: [loadImage(birdImg.eye), eyeColor.split(',')],
    }
    
    pipeImg = {
      thin: {
        bone: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjU4IiB5PSI4MyIgd2lkdGg9IjEyIiBoZWlnaHQ9IjUzOCIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        flowers: [
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik00Ny43MjM0IDExLjE3MzVDNTAuMTQwNCAxNy4zNDQ1IDQ3LjA5NzIgMjQuMzA2NCA0MC45MjYzIDI2LjcyMzRDMzQuNzU1MyAyOS4xNDA0IDI3Ljc5MzQgMjYuMDk3MiAyNS4zNzY0IDE5LjkyNjNDMjIuOTU5NCAxMy43NTUzIDI2LjAwMjUgNi43OTM0IDMyLjE3MzUgNC4zNzYzOUMzOC4zNDQ1IDEuOTU5MzggNDUuMzA2NCA1LjAwMjU1IDQ3LjcyMzQgMTEuMTczNVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik01Ni40NzYyIDMzLjUyMDVDNTguODkzMiAzOS42OTE1IDU1Ljg1IDQ2LjY1MzQgNDkuNjc5MSA0OS4wNzA0QzQzLjUwODEgNTEuNDg3NCAzNi41NDYyIDQ4LjQ0NDMgMzQuMTI5MiA0Mi4yNzMzQzMxLjcxMjEgMzYuMTAyMyAzNC43NTUzIDI5LjE0MDQgNDAuOTI2MyAyNi43MjM0QzQ3LjA5NzIgMjQuMzA2NCA1NC4wNTkyIDI3LjM0OTYgNTYuNDc2MiAzMy41MjA1WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTY1LjIyODkgNTUuODY3NUM2Ny42NDYgNjIuMDM4NSA2NC42MDI4IDY5LjAwMDQgNTguNDMxOCA3MS40MTc0QzUyLjI2MDkgNzMuODM0NCA0NS4yOTg5IDcwLjc5MTMgNDIuODgxOSA2NC42MjAzQzQwLjQ2NDkgNTguNDQ5NCA0My41MDgxIDUxLjQ4NzQgNDkuNjc5MSA0OS4wNzA0QzU1Ljg1IDQ2LjY1MzQgNjIuODExOSA0OS42OTY2IDY1LjIyODkgNTUuODY3NVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik03My45ODE3IDc4LjIxNDVDNzYuMzk4NyA4NC4zODU1IDczLjM1NTYgOTEuMzQ3NCA2Ny4xODQ2IDkzLjc2NDRDNjEuMDEzNiA5Ni4xODE1IDU0LjA1MTcgOTMuMTM4MyA1MS42MzQ3IDg2Ljk2NzNDNDkuMjE3NyA4MC43OTY0IDUyLjI2MDkgNzMuODM0NCA1OC40MzE4IDcxLjQxNzRDNjQuNjAyOCA2OS4wMDA0IDcxLjU2NDcgNzIuMDQzNiA3My45ODE3IDc4LjIxNDVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNODIuNzM0NSAxMDAuNTYyQzg1LjE1MTUgMTA2LjczMyA4Mi4xMDgzIDExMy42OTQgNzUuOTM3NCAxMTYuMTExQzY5Ljc2NjQgMTE4LjUyOCA2Mi44MDQ1IDExNS40ODUgNjAuMzg3NSAxMDkuMzE0QzU3Ljk3MDUgMTAzLjE0MyA2MS4wMTM2IDk2LjE4MTUgNjcuMTg0NiA5My43NjQ0QzczLjM1NTYgOTEuMzQ3NCA4MC4zMTc1IDk0LjM5MDYgODIuNzM0NSAxMDAuNTYyWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTkxLjQ4NzMgMTIyLjkwOUM5My45MDQzIDEyOS4wOCA5MC44NjExIDEzNi4wNDEgODQuNjkwMiAxMzguNDU4Qzc4LjUxOTIgMTQwLjg3NSA3MS41NTczIDEzNy44MzIgNjkuMTQwMyAxMzEuNjYxQzY2LjcyMzIgMTI1LjQ5IDY5Ljc2NjQgMTE4LjUyOCA3NS45Mzc0IDExNi4xMTFDODIuMTA4MyAxMTMuNjk0IDg5LjA3MDMgMTE2LjczOCA5MS40ODczIDEyMi45MDlaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTAwLjI0IDE0NS4yNTZDMTAyLjY1NyAxNTEuNDI3IDk5LjYxMzkgMTU4LjM4OCA5My40NDI5IDE2MC44MDVDODcuMjcyIDE2My4yMjIgODAuMzEgMTYwLjE3OSA3Ny44OTMgMTU0LjAwOEM3NS40NzYgMTQ3LjgzNyA3OC41MTkyIDE0MC44NzUgODQuNjkwMiAxMzguNDU4QzkwLjg2MTEgMTM2LjA0MSA5Ny44MjMgMTM5LjA4NSAxMDAuMjQgMTQ1LjI1NloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxlbGxpcHNlIGN4PSI2Mi41IiBjeT0iNzUuNSIgcng9IjM0LjUiIHJ5PSI4LjUiIHRyYW5zZm9ybT0icm90YXRlKC0zNy4yMzk5IDYyLjUgNzUuNSkiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zNy4zMjEgNDUuOTM5NUMzMi45Mjk1IDQ0LjI4MDQgMjguMDI0NiA0Ni40OTU0IDI2LjM2NTUgNTAuODg2OUMyNS4zNjY5IDUzLjUzMDEgMjUuNzcxOCA1Ni4zNTkzIDI3LjIxMDEgNTguNTU0OEw0MS40NTc5IDgxLjY3NjdDNDMuNDU2OSA4NC40Nzg1IDQ2LjI3OTkgODYuNzM4NiA0OS43NDE0IDg4LjA0NjNDNTkuMDQwOSA5MS41NTk2IDY5LjQyNzkgODYuODY5IDcyLjk0MTIgNzcuNTY5NEM3Ni40NTQ2IDY4LjI2OTggNzEuNzYzOSA1Ny44ODI4IDYyLjQ2NDMgNTQuMzY5NUwzNy4zMjEgNDUuOTM5NVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02MS41IDI0TDc5LjExNzUgMzMuOTg1Nkw5Ni41NzQgNDQuMjVMOTYuNzM1IDY0LjVMOTYuNTc0IDg0Ljc1TDc5LjExNzUgOTUuMDE0NEw2MS41IDEwNUw0My44ODI1IDk1LjAxNDRMMjYuNDI2IDg0Ljc1TDI2LjI2NSA2NC41TDI2LjQyNiA0NC4yNUw0My44ODI1IDMzLjk4NTZMNjEuNSAyNFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjQuODI2NDYiIHk9IjY1IiB3aWR0aD0iMTI0IiBoZWlnaHQ9IjI0IiByeD0iMTIiIHRyYW5zZm9ybT0icm90YXRlKDExLjYwMTQgNC44MjY0NiA2NSkiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
        ]
      },
      fat: {
        bone: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYwNyIgdmlld0JveD0iMCAwIDE0MiA2MDciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjYwIiB5PSI2OC40NDU3IiB3aWR0aD0iMjQiIGhlaWdodD0iNTM4IiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        flowers: [
         'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYxNSIgdmlld0JveD0iMCAwIDE0MiA2MTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03Ny41OTQ2IDEwMi4zNzNDMzAuMzk0NiAxMDkuOTczIDUuNTk0NiA4MS4zNzI2IDAuNTk0NTc1IDY0Ljg3MjZDLTAuMDE2OTkzNCA2My4zNzI2IC0zLjQwNTMzIDQ0LjM3MjYgMTYuNTk0NiAzNi44NzI2QzM0LjEzNzcgMzAuMjkzOSA0NC40Mjc5IDQ2LjcwNTkgNDcuMDk0NiA1NC44NzI2QzQ2LjA5NDYgNDguNzA1OSA0OC4wOTQ2IDM1LjI3MjYgNjQuMDk0NiAzMC44NzI2Qzg0LjA5NDYgMjUuMzcyNiA5Mi41OTQ2IDQ0Ljg3MjYgOTMuNTk0NiA0Ny4zNzI2Qzk0LjU5NDYgNDkuODcyNiA5Ni4wOTQ2IDUxLjM3MjYgOTUuNTk0NiA0Ny4zNzI2Qzk1LjA5NDYgNDMuMzcyNiA5OS4wOTQ2IDI3Ljg3MjYgMTE1LjA5NSAyNC44NzI2QzEzMS4wOTUgMjEuODcyNiAxNDAuNTk1IDM1LjM3MjYgMTQxLjU5NSA0My44NzI2QzE0Mi41OTUgNTIuMzcyNiAxMzYuNTk1IDkyLjg3MjYgNzcuNTk0NiAxMDIuMzczWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYxNSIgdmlld0JveD0iMCAwIDE0MiA2MTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ny41ODcgMTIuMDgzNkM2OS45NTIxIDEwLjQ4OTIgNzMuMDQ3OSAxMC40ODkyIDc1LjQxMyAxMi4wODM2TDgyLjc2OTUgMTcuMDQzMUM4My45NjkxIDE3Ljg1MTggODUuMzg5OSAxOC4yNjkgODYuODM2MyAxOC4yMzcyTDk1LjcwNjMgMTguMDQyM0M5OC41NTc5IDE3Ljk3OTYgMTAxLjE2MiAxOS42NTM0IDEwMi4yOSAyMi4yNzMzTDEwNS43OTcgMzAuNDIyN0MxMDYuMzY5IDMxLjc1MTcgMTA3LjMzOSAzMi44NzA3IDEwOC41NzMgMzMuNjI1OUwxMTYuMTQgMzguMjU3NUMxMTguNTczIDM5Ljc0NjQgMTE5Ljg1OSA0Mi41NjI1IDExOS4zOTEgNDUuMzc2MkwxMTcuOTM2IDU0LjEyODJDMTE3LjY5OSA1NS41NTUzIDExNy45MDkgNTcuMDIxIDExOC41MzkgNTguMzIzNUwxMjIuNDAxIDY2LjMxMUMxMjMuNjQzIDY4Ljg3ODggMTIzLjIwMiA3MS45NDMyIDEyMS4yODcgNzQuMDU3MkwxMTUuMzMyIDgwLjYzMzFDMTE0LjM2IDgxLjcwNTQgMTEzLjc0NSA4My4wNTIzIDExMy41NzEgODQuNDg4NUwxMTIuNTAxIDkzLjI5NkMxMTIuMTU4IDk2LjEyNzUgMTEwLjEzIDk4LjQ2NzIgMTA3LjM3NyA5OS4yMTA1TDk4LjgxMDkgMTAxLjUyMkM5Ny40MTQxIDEwMS44OTkgOTYuMTY4NCAxMDIuNyA5NS4yNDUzIDEwMy44MTRMODkuNTgzOSAxMTAuNjQ1Qzg3Ljc2MzkgMTEyLjg0MSA4NC43OTM1IDExMy43MTMgODIuMDc1IDExMi44NUw3My42MTkyIDExMC4xNjRDNzIuMjQwNCAxMDkuNzI2IDcwLjc1OTYgMTA5LjcyNiA2OS4zODA4IDExMC4xNjRMNjAuOTI1IDExMi44NUM1OC4yMDY2IDExMy43MTMgNTUuMjM2MSAxMTIuODQxIDUzLjQxNjEgMTEwLjY0NUw0Ny43NTQ3IDEwMy44MTRDNDYuODMxNiAxMDIuNyA0NS41ODU5IDEwMS44OTkgNDQuMTg5MSAxMDEuNTIyTDM1LjYyMzUgOTkuMjEwNUMzMi44Njk4IDk4LjQ2NzIgMzAuODQyNCA5Ni4xMjc1IDMwLjQ5ODYgOTMuMjk2TDI5LjQyOTIgODQuNDg4NUMyOS4yNTQ4IDgzLjA1MjMgMjguNjM5NyA4MS43MDU0IDI3LjY2ODUgODAuNjMzMUwyMS43MTI1IDc0LjA1NzJDMTkuNzk3OCA3MS45NDMyIDE5LjM1NzIgNjguODc4OCAyMC41OTg4IDY2LjMxMUwyNC40NjA4IDU4LjMyMzVDMjUuMDkwNiA1Ny4wMjEgMjUuMzAxMyA1NS41NTUzIDI1LjA2NCA1NC4xMjgyTDIzLjYwODggNDUuMzc2MkMyMy4xNDA5IDQyLjU2MjUgMjQuNDI3IDM5Ljc0NjQgMjYuODU5OCAzOC4yNTc1TDM0LjQyNzEgMzMuNjI1OUMzNS42NjExIDMyLjg3MDcgMzYuNjMwNyAzMS43NTE3IDM3LjIwMjcgMzAuNDIyOEw0MC43MTAxIDIyLjI3MzNDNDEuODM3NyAxOS42NTM0IDQ0LjQ0MjEgMTcuOTc5NiA0Ny4yOTM3IDE4LjA0MjNMNTYuMTYzNyAxOC4yMzcyQzU3LjYxMDEgMTguMjY5IDU5LjAzMDkgMTcuODUxOCA2MC4yMzA1IDE3LjA0MzFMNjcuNTg3IDEyLjA4MzZaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYxNSIgdmlld0JveD0iMCAwIDE0MiA2MTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04Ny42OTYxIDEyLjU5NjhMMzkuNzc0NCAxOS4yODc0TDI1LjY2NTUgNTcuOTQyMkMyMS4zODc5IDcxLjgwNTkgMTcuNjE3NCA4Ny42MjAzIDI1LjYzMjkgOTYuMjY5N0MzNS44OTI4IDEwNy4zNDEgNDguNzQ3MiAxMDkuMSA1My44OTE5IDEwOC41OTZMNjIuNTQxIDEwNy4yNjhMNzcuNjc2OSAxMDQuOTQ0TDEwMS40NjIgMTAxLjI5MUMxMDcuMzY0IDk5LjI2NTcgMTIwLjIyNiA5Mi4wODE3IDEyNC40NTMgNzkuNTUxMkMxMjguNjggNjcuMDIwNyAxMjIuOTQzIDU1LjgyODkgMTE5LjU0NiA1MS43OTkzTDg3LjY5NjEgMTIuNTk2OFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo='
        ]
      },
      rgbs: {
        bone: [
          '92,170,0',
          '42,104,89',
          '113,160,150',
        ],
        flower: [
          '224,211,59',
          '252,146,3',
          '224,220,255',
          '5,172,161',
        ]
      }
    }

    pipeSkin = {
      thin: {
        bone: loadImage(pipeImg.thin.bone),
        flowers: pipeImg.thin.flowers.map(item => loadImage(item)),
      },
      fat: {
        bone: loadImage(pipeImg.fat.bone),
        flowers: pipeImg.fat.flowers.map(item => loadImage(item)),
      }
    };
    
    pipeRevImg = {
      thin: {
        bone: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjY4Ljg3NzciIHk9IjUzOC4wNjUiIHdpZHRoPSIxMiIgaGVpZ2h0PSI1MzgiIHRyYW5zZm9ybT0icm90YXRlKC0xODAgNjguODc3NyA1MzguMDY1KSIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        flowers: [
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjEyMS40NjciIHk9IjU2MS40NDYiIHdpZHRoPSIxMjQiIGhlaWdodD0iMjQiIHJ4PSIxMiIgdHJhbnNmb3JtPSJyb3RhdGUoLTE2OC4zOTkgMTIxLjQ2NyA1NjEuNDQ2KSIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
          'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAJtCAYAAAAfPK+qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPTSURBVHgB7d3RcdtGEAbgYxqIS2AJLoHuwOlArkBOBVEqSFIB1YHTAdOBSwBTgZ0KNosB85CxxhpBJHDkft/MDqQHPRD/EXtHju5aAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgHRFxn/U5665RQ4a9yxri/waD4IZluG+zDvF9n7K2jduQYb7J+i1eZm8QXLFT6L9kfYl5hvHvG9clQ3sf3/b1uYYwH+hfTJO5Q1zGuDLYNvoS0yN+H8vYGwQdiNf39dcwH1hL3vy7OF9fn2sI84HlxGX7+lxDaAWXE/PW60vbh0FwXjF9Dr9GX59jyPrYeJ2YHvGf4zoNWe8bL5M3bRv99fW59qEVPC/WXbpdWpdLw03rQN6cXV72Wdt2u45Zv242m8fWiVXDj+mROIa+a3X8mfVzDoJjW9kPbQVxWrrlj0OrFfxonAgOMS1dt21Fi7/z8wXf5+Uh603j2FZsBYuGn8E/5MXn4t96zAHwoS1s6cf+ttGNVXo+fRB+YcIvTPiFCb8w4Rcm/MKEX5jwCxN+YcIvTPiFLR3+j41uLB2+7/Cftm0r8NgvTPiFCb8w4Rcm/MKEX5jwCxN+YcIvTPiFLR3+342n/NNW4J3fhy9tBcIvTPiFCb8w4Rcm/MKEX5jwCxN+YcIvTPiFCb8w4Rcm/D6s8m3nouFvNpu7vIybDR4bo69t2of3oa1glY2XT3vOjidS3Le6/sh6yOC/tpX0sOv2uAFzpVMp/sr6UHbX7f+MNyDrp1ajFRyz3uXrfddD8N0ZN2aO2zOeHDK+Lv+h/JyYzth5jNtwCGfsvFyc9zTspY2ngu0ar5M38WNczyAYH/HO1TunuI5W8Hvo65cT0yAYoi+H8IhfTjhFm1hnaWjp1otYdj6wF3qHToPgUgcvH0Jf71+cdz4whNOwr09MfXmIefT1axfz5gPW67fkNAg+PRP6Iett4zbF0/OB8fddo4bTIBhXBj6HBwAAAAAAAAAAAAAAAAAAAAAAAAAAuD3/Ase++cQrM6kWAAAAAElFTkSuQmCC',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03OS45ODE3IDU2Ny40NjhDODQuMzczMiA1NjkuMTI3IDg5LjI3ODEgNTY2LjkxMiA5MC45MzcyIDU2Mi41MjFDOTEuOTM1OCA1NTkuODc4IDkxLjUzMDkgNTU3LjA0OCA5MC4wOTI2IDU1NC44NTNMNzUuODQ0OCA1MzEuNzMxQzczLjg0NTggNTI4LjkyOSA3MS4wMjI4IDUyNi42NjkgNjcuNTYxMyA1MjUuMzYxQzU4LjI2MTggNTIxLjg0OCA0Ny44NzQ4IDUyNi41MzkgNDQuMzYxNSA1MzUuODM4QzQwLjg0ODEgNTQ1LjEzOCA0NS41Mzg4IDU1NS41MjUgNTQuODM4NCA1NTkuMDM4TDc5Ljk4MTcgNTY3LjQ2OFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxlbGxpcHNlIGN4PSI2Mi42MDk1IiBjeT0iNTM3LjY0NSIgcng9IjM0LjUiIHJ5PSI4LjUiIHRyYW5zZm9ybT0icm90YXRlKDE0Mi43NiA2Mi42MDk1IDUzNy42NDUpIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik03Ny44OTMgNjA5LjAwOEM3NS40NzYgNjAyLjgzNyA3OC41MTkyIDU5NS44NzUgODQuNjkwMSA1OTMuNDU4QzkwLjg2MTEgNTkxLjA0MSA5Ny44MjMgNTk0LjA4NSAxMDAuMjQgNjAwLjI1NkMxMDIuNjU3IDYwNi40MjcgOTkuNjEzOSA2MTMuMzg4IDkzLjQ0MjkgNjE1LjgwNUM4Ny4yNzIgNjE4LjIyMyA4MC4zMSA2MTUuMTc5IDc3Ljg5MyA2MDkuMDA4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTY5LjE0MDMgNTg2LjY2MUM2Ni43MjMyIDU4MC40OSA2OS43NjY0IDU3My41MjggNzUuOTM3NCA1NzEuMTExQzgyLjEwODMgNTY4LjY5NCA4OS4wNzAzIDU3MS43MzggOTEuNDg3MyA1NzcuOTA5QzkzLjkwNDMgNTg0LjA4IDkwLjg2MTEgNTkxLjA0MSA4NC42OTAxIDU5My40NThDNzguNTE5MiA1OTUuODc1IDcxLjU1NzMgNTkyLjgzMiA2OS4xNDAzIDU4Ni42NjFaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNjAuMzg3NSA1NjQuMzE0QzU3Ljk3MDUgNTU4LjE0MyA2MS4wMTM2IDU1MS4xODEgNjcuMTg0NiA1NDguNzY0QzczLjM1NTYgNTQ2LjM0NyA4MC4zMTc1IDU0OS4zOTEgODIuNzM0NSA1NTUuNTYyQzg1LjE1MTUgNTYxLjczMyA4Mi4xMDgzIDU2OC42OTQgNzUuOTM3NCA1NzEuMTExQzY5Ljc2NjQgNTczLjUyOCA2Mi44MDQ1IDU3MC40ODUgNjAuMzg3NSA1NjQuMzE0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTUxLjYzNDcgNTQxLjk2N0M0OS4yMTc3IDUzNS43OTYgNTIuMjYwOSA1MjguODM0IDU4LjQzMTggNTI2LjQxN0M2NC42MDI4IDUyNCA3MS41NjQ3IDUyNy4wNDQgNzMuOTgxNyA1MzMuMjE1Qzc2LjM5ODcgNTM5LjM4NiA3My4zNTU2IDU0Ni4zNDcgNjcuMTg0NiA1NDguNzY0QzYxLjAxMzYgNTUxLjE4MSA1NC4wNTE3IDU0OC4xMzggNTEuNjM0NyA1NDEuOTY3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTQyLjg4MTkgNTE5LjYyQzQwLjQ2NDkgNTEzLjQ0OSA0My41MDgxIDUwNi40ODcgNDkuNjc5IDUwNC4wN0M1NS44NSA1MDEuNjUzIDYyLjgxMTkgNTA0LjY5NyA2NS4yMjg5IDUxMC44NjhDNjcuNjQ2IDUxNy4wMzkgNjQuNjAyOCA1MjQgNTguNDMxOCA1MjYuNDE3QzUyLjI2MDkgNTI4LjgzNCA0NS4yOTg5IDUyNS43OTEgNDIuODgxOSA1MTkuNjJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzQuMTI5MiA0OTcuMjczQzMxLjcxMjEgNDkxLjEwMiAzNC43NTUzIDQ4NC4xNCA0MC45MjYzIDQ4MS43MjNDNDcuMDk3MiA0NzkuMzA2IDU0LjA1OTIgNDgyLjM1IDU2LjQ3NjIgNDg4LjUyMUM1OC44OTMyIDQ5NC42OTEgNTUuODUgNTAxLjY1MyA0OS42NzkgNTA0LjA3QzQzLjUwODEgNTA2LjQ4NyAzNi41NDYyIDUwMy40NDQgMzQuMTI5MiA0OTcuMjczWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTI1LjM3NjQgNDc0LjkyNkMyMi45NTk0IDQ2OC43NTUgMjYuMDAyNSA0NjEuNzkzIDMyLjE3MzUgNDU5LjM3NkMzOC4zNDQ1IDQ1Ni45NTkgNDUuMzA2NCA0NjAuMDAzIDQ3LjcyMzQgNDY2LjE3NEM1MC4xNDA0IDQ3Mi4zNDQgNDcuMDk3MiA0NzkuMzA2IDQwLjkyNjMgNDgxLjcyM0MzNC43NTUzIDQ4NC4xNCAyNy43OTM0IDQ4MS4wOTcgMjUuMzc2NCA0NzQuOTI2WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI3IiBoZWlnaHQ9IjYyMSIgdmlld0JveD0iMCAwIDEyNyA2MjEiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01My4yMTk1IDU1Ny42NTdDNTMuMjE5NSA1NTIuNDEgNTcuNDcyOCA1NDguMTU3IDYyLjcxOTUgNTQ4LjE1N0M2Ny45NjYyIDU0OC4xNTcgNzIuMjE5NSA1NTIuNDEgNzIuMjE5NSA1NTcuNjU3QzcyLjIxOTUgNTYyLjkwNCA2Ny45NjYyIDU2Ny4xNTcgNjIuNzE5NSA1NjcuMTU3QzU3LjQ3MjggNTY3LjE1NyA1My4yMTk1IDU2Mi45MDQgNTMuMjE5NSA1NTcuNjU3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTg3LjQzNTggNTM2LjM4NUM4Ny41OTI1IDU0My4zNzkgODIuMDQ5MiA1NDkuMTc3IDc1LjA1NDQgNTQ5LjMzM0w1MC45NTIxIDU0OS44NzNDNDMuOTU3NCA1NTAuMDMgMzguMTYgNTQ0LjQ4NyAzOC4wMDMzIDUzNy40OTJDMzcuODQ2NiA1MzAuNDk3IDQzLjM4OTkgNTI0LjcgNTAuMzg0NiA1MjQuNTQzTDc0LjQ4NjkgNTI0LjAwM0M4MS40ODE3IDUyMy44NDcgODcuMjc5MSA1MjkuMzkgODcuNDM1OCA1MzYuMzg1WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
        ] 
      },
      fat: {
        bone: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYwNiIgdmlld0JveD0iMCAwIDE0MiA2MDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjgyLjUzMjUiIHk9IjUzOC4xNjEiIHdpZHRoPSIyNCIgaGVpZ2h0PSI1MzgiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA4Mi41MzI1IDUzOC4xNjEpIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K',
        flowers: [
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYwNiIgdmlld0JveD0iMCAwIDE0MiA2MDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02NC4wOTQ0IDUwNC4yNTlDMTExLjI5NCA0OTYuNjU5IDEzNi4wOTQgNTI1LjI1OSAxNDEuMDk0IDU0MS43NTlDMTQxLjcwNiA1NDMuMjU5IDE0NS4wOTQgNTYyLjI1OSAxMjUuMDk0IDU2OS43NTlDMTA3LjU1MSA1NzYuMzM4IDk3LjI2MTEgNTU5LjkyNiA5NC41OTQ0IDU1MS43NTlDOTUuNTk0NCA1NTcuOTI2IDkzLjU5NDQgNTcxLjM1OSA3Ny41OTQ0IDU3NS43NTlDNTcuNTk0NCA1ODEuMjU5IDQ5LjA5NDQgNTYxLjc1OSA0OC4wOTQ0IDU1OS4yNTlDNDcuMDk0NCA1NTYuNzU5IDQ1LjU5NDQgNTU1LjI1OSA0Ni4wOTQ0IDU1OS4yNTlDNDYuNTk0NCA1NjMuMjU5IDQyLjU5NDQgNTc4Ljc1OSAyNi41OTQ0IDU4MS43NTlDMTAuNTk0NSA1ODQuNzU5IDEuMDk0NDcgNTcxLjI1OSAwLjA5NDQ2NzIgNTYyLjc1OUMtMC45MDU1MzMgNTU0LjI1OSA1LjA5NDQ1IDUxMy43NTkgNjQuMDk0NCA1MDQuMjU5WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYwNiIgdmlld0JveD0iMCAwIDE0MiA2MDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik01OS45OTI5IDU5My4zMTJMMTA3LjkxNSA1ODYuNjIyTDEyMi4wMjMgNTQ3Ljk2N0MxMjYuMzAxIDUzNC4xMDMgMTMwLjA3MiA1MTguMjg5IDEyMi4wNTYgNTA5LjY0QzExMS43OTYgNDk4LjU2OCA5OC45NDE4IDQ5Ni44MDkgOTMuNzk3MSA0OTcuMzE0TDg1LjE0OCA0OTguNjQyTDcwLjAxMjEgNTAwLjk2Nkw0Ni4yMjcyIDUwNC42MThDNDAuMzI0NiA1MDYuNjQzIDI3LjQ2MjYgNTEzLjgyOCAyMy4yMzU2IDUyNi4zNThDMTkuMDA4NyA1MzguODg5IDI0Ljc0NjEgNTUwLjA4IDI4LjE0MzIgNTU0LjExTDU5Ljk5MjkgNTkzLjMxMloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
          'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQyIiBoZWlnaHQ9IjYwNiIgdmlld0JveD0iMCAwIDE0MiA2MDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik04MC4xMDIgNTkzLjgyNkM3Ny43MzcgNTk1LjQyIDc0LjY0MTEgNTk1LjQyIDcyLjI3NjEgNTkzLjgyNkw2NC45MTk1IDU4OC44NjZDNjMuNzE5OSA1ODguMDU3IDYyLjI5OTIgNTg3LjY0IDYwLjg1MjggNTg3LjY3Mkw1MS45ODI3IDU4Ny44NjdDNDkuMTMxMSA1ODcuOTMgNDYuNTI2NyA1ODYuMjU2IDQ1LjM5OTEgNTgzLjYzNkw0MS44OTE3IDU3NS40ODZDNDEuMzE5OCA1NzQuMTU4IDQwLjM1MDEgNTczLjAzOSAzOS4xMTYxIDU3Mi4yODNMMzEuNTQ4OCA1NjcuNjUyQzI5LjExNiA1NjYuMTYzIDI3LjgyOTkgNTYzLjM0NyAyOC4yOTc4IDU2MC41MzNMMjkuNzUzMSA1NTEuNzgxQzI5Ljk5MDQgNTUwLjM1NCAyOS43Nzk2IDU0OC44ODggMjkuMTQ5OSA1NDcuNTg2TDI1LjI4NzggNTM5LjU5OEMyNC4wNDYyIDUzNy4wMyAyNC40ODY4IDUzMy45NjYgMjYuNDAxNSA1MzEuODUyTDMyLjM1NzUgNTI1LjI3NkMzMy4zMjg3IDUyNC4yMDQgMzMuOTQzOCA1MjIuODU3IDM0LjExODIgNTIxLjQyMUwzNS4xODc2IDUxMi42MTNDMzUuNTMxNCA1MDkuNzgyIDM3LjU1ODggNTA3LjQ0MiA0MC4zMTI1IDUwNi42OTlMNDguODc4MiA1MDQuMzg3QzUwLjI3NDkgNTA0LjAxIDUxLjUyMDYgNTAzLjIwOSA1Mi40NDM4IDUwMi4wOTVMNTguMTA1MSA0OTUuMjY0QzU5LjkyNTEgNDkzLjA2OCA2Mi44OTU2IDQ5Mi4xOTYgNjUuNjE0IDQ5My4wNTlMNzQuMDY5OCA0OTUuNzQ1Qzc1LjQ0ODcgNDk2LjE4MyA3Ni45Mjk0IDQ5Ni4xODMgNzguMzA4MiA0OTUuNzQ1TDg2Ljc2NDEgNDkzLjA1OUM4OS40ODI1IDQ5Mi4xOTYgOTIuNDUzIDQ5My4wNjggOTQuMjczIDQ5NS4yNjRMOTkuOTM0MyA1MDIuMDk1QzEwMC44NTcgNTAzLjIwOSAxMDIuMTAzIDUwNC4wMSAxMDMuNSA1MDQuMzg3TDExMi4wNjYgNTA2LjY5OUMxMTQuODE5IDUwNy40NDIgMTE2Ljg0NyA1MDkuNzgyIDExNy4xOSA1MTIuNjEzTDExOC4yNiA1MjEuNDIxQzExOC40MzQgNTIyLjg1NyAxMTkuMDQ5IDUyNC4yMDQgMTIwLjAyMSA1MjUuMjc2TDEyNS45NzcgNTMxLjg1MkMxMjcuODkxIDUzMy45NjYgMTI4LjMzMiA1MzcuMDMgMTI3LjA5IDUzOS41OThMMTIzLjIyOCA1NDcuNTg2QzEyMi41OTggNTQ4Ljg4OCAxMjIuMzg4IDU1MC4zNTQgMTIyLjYyNSA1NTEuNzgxTDEyNC4wOCA1NjAuNTMzQzEyNC41NDggNTYzLjM0NyAxMjMuMjYyIDU2Ni4xNjMgMTIwLjgyOSA1NjcuNjUyTDExMy4yNjIgNTcyLjI4M0MxMTIuMDI4IDU3My4wMzkgMTExLjA1OCA1NzQuMTU4IDExMC40ODYgNTc1LjQ4NkwxMDYuOTc5IDU4My42MzZDMTA1Ljg1MSA1ODYuMjU2IDEwMy4yNDcgNTg3LjkzIDEwMC4zOTUgNTg3Ljg2N0w5MS41MjUzIDU4Ny42NzJDOTAuMDc4OSA1ODcuNjQgODguNjU4MiA1ODguMDU3IDg3LjQ1ODUgNTg4Ljg2Nkw4MC4xMDIgNTkzLjgyNloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=',
        ]
      },
    };
    pipeRevSkin = {
      thin: {
        bone: loadImage(pipeRevImg.thin.bone),
        flowers: pipeRevImg.thin.flowers.map(item => loadImage(item)),
      },
      fat: {
        bone: loadImage(pipeRevImg.fat.bone),
        flowers: pipeRevImg.fat.flowers.map(item => loadImage(item)),
      }
    };
  }

  function setup() {
    canvasWidth = Math.min(windowWidth, windowHeight);
    let canvas = createCanvas(canvasWidth, canvasWidth);
    canvas.parent("cw");
    frameRate(40);
    openScreenStaticBird = new Bird(
      width / 2,
      height * (2 / 5),
      false,
      0,
      "northeast",
      "static",
      width/8
    );
    birdStartPosition = {
      x: width / 3,
      y: height / 2.5,
    }
    birdStandingPosition = {
      x: width / 1.8,
      y: height / 2.6,
    }
    endPosition  = {
      x: width / 6,
      y: height / 2.2
    };
    h1 = width / 20, h2 = width / 24, h2LineSpace =  width / 21, h3 = width / 30;
    leftStart = width / 14, midStart = height / 1.6;
    bird = new Bird(birdStandingPosition.x, birdStandingPosition.y);
    angleMode(DEGREES);
    textStyle(BOLD);
    textSize(h1);
    document.addEventListener('keypress', keyPressed);
    document.addEventListener('mousedown', mousePressed);
     // Prevent default touch actions for the entire document or specific elements
    document.addEventListener('touchstart', function(e) {
      e.preventDefault();
      if (playing) {
        bird.flap();
      } else {
        playing = true;
        clear();
        bird.flap();
      }
    }, { passive: false });
    document.documentElement.style.touchAction = 'manipulation';
    document.body.style.touchAction = 'manipulation';
  }

  function clear() {
    pipes = [];
    openScreenBird = null;
    openScreenBirdTracks = [];
    bird.particles = [];
    bird = new Bird(birdStandingPosition.x, birdStandingPosition.y);
    bird.clear();
  }

  function draw() {
    background(255,255,255);
    // bird.show();
    
    if(!playing) {
      if(isRestart) {
        image(endImg, 0, 0, width, height);
        fill(252, 146, 1);
        textSize(h2)
        text("Score: " +
          bird.score, width / 2, height / 1.235);
        fill(0);
        noStroke();
        rect(0, height / 2, width / 2.1, 20);
        bird.x = endPosition.x;
        bird.y = endPosition.y;
        bird.particles = [];
        fill(216, 223, 229);
        rectMode(CENTER);
        noStroke();
        rect(width / 2, height / 5, width / 1.2, width / 4.5);
        textSize(h3);
        fill(0);
        const textX = width / 2, textY = height / 8;
        textAlign(CENTER, CENTER);
        const performance = Math.floor(bird.score / 10 >= 4 ? 4 : bird.score / 10);
        const endText = endingTexts[performance]
        for(let i = 0; i < endText.length; i++) {
          text(endText[i], textX, textY + i * h2LineSpace);
        }
      } else {
        if(openScreenBirdTracks.length > 40) {
          // render the tracks
          for(const track of openScreenBirdTracks) {
            track.show();
          }
          displayWelcome();
          return ;
        }
        if(!openScreenBird || openScreenBird.isOutOfScreen()) {
          const direction = 'northeast';
          const offsetL = offset * width / 13;
          offset++;
          
          let startingX = 0;
          let startingY = height;
          // randomly add offset to X or Y
          if(R.random_choice([true, false])) {
            startingX = (offsetL + startingX) % width;
          } else {
            startingY = (offsetL + startingY) % height;
          }
          
          openScreenBird = new Bird(startingX, startingY, true,  R.random_num(15, 20), direction, R.random_choice(lightColors));
        }
        for(const track of openScreenBirdTracks) {
          track.show();
        }
        openScreenBird.move();
        openScreenBird.show();
        displayWelcome();
      }
      return;
    }
    if (frameCount % 40 === 0) {
      pipes.push(new Pipe());
      playing = true;
    }

    for (let i = pipes.length - 1; i >= 0; i--) {
      pipes[i].show();
      pipes[i].update();
      if (!pipes[i].isPass && pipes[i].offBird() && pipes[i].pass(bird)) {
        bird.score++;
        pipes[i].isPass = true;
      }
      if(pipes[i].offScreen()) {
        pipes.splice(i, 1);
      }
      if (pipes[i].hit(bird)) {
        playing = false;
        isRestart = true;
      }
    }
    // draw bird
    bird.show();
    bird.update();
    // show the current score
    if (playing) {
      fill(216, 223, 229);
      rectMode(CENTER);
      noStroke();
      rect(width / 6, height / 5, width / 6, width / 18);
      textSize(h3);
      fill(0);
      textAlign(CENTER,CENTER);
      text('Score: ' + bird.score, width / 6, height / 5);
      image(backgroundImg, 0, -height / 19.8, width, height + height / 9.9);
    } 

   
  }

  function displayWelcome() {
        openScreenStaticBird.show();
        push();
        textSize(h1);
        fill(0); // black color for text
        textAlign(CENTER);
        text("Welcome to Birdy!", width / 2, height / 4);
        pop();
        displayPropertyWithStar('Jump', midStart, 0, jump);
        displayPropertyWithStar('Body Weight', midStart, 1, bodyweight);
        
  }

  function displayPropertyWithStar(property, start, level, startCount) {
    push();
    fill(0);

    text(`${property}:`, leftStart, start + h2LineSpace * 1.8 * (level || 0));
    // render starImg
    for(let i = 0; i < startCount; i++) {
      image(starImg, width / 2 + i * width / 12, start - h2LineSpace + h2LineSpace * 2 * (level || 0), h2 * 1.2, h2 * 1.2);
    }
    pop();
  }

  window.preload = preload;
  window.setup = setup;
  window.draw = draw;
});